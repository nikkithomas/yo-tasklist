"use strict";var app=angular.module("tasklistApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).constant("FIREBASE_URL","https://flickering-inferno-2348.firebaseio.com/").config(["$routeProvider",function(a){a.when("/tasks",{templateUrl:"views/tasks.html",controller:"TasksCtrl"}).when("/expired-tasks/",{templateUrl:"views/expired-tasks.html",controller:"TasksCtrl"}).otherwise({redirectTo:"/tasks"})}]);app.controller("TasksCtrl",["$scope","Task",function(a,b){a.tasks=b.all,a.completeTask=b.completeTask,a.workTask=b.workTask,a.priorityOptions=[{name:"High",id:1},{name:"Medium",id:2},{name:"Low",id:3}],a.selectedPriority=a.priorityOptions[2].id,a.statusOptions=[{name:"Click to Complete",id:0}],a.selectedStatus=a.statusOptions[0].id,a.task={todo:"",priority:a.selectedPriority,isComplete:!1,status:0},a.addTask=function(){a.task.createdAt=(new Date).getTime(),b.create(a.task).then(function(){a.task={todo:"",priority:a.selectedPriority,isComplete:!1,status:0}})},a.selectedPriority=a.priorityOptions[2].id,a.selectedStatus=a.statusOptions[0].id,a.deleteTask=function(a){b["delete"](a)},a.taskDone=!0}]),app.factory("Task",["$firebase","FIREBASE_URL",function(a,b){var c=new Firebase(b),d=a(c.child("tasks")).$asArray(),e={all:d,create:function(a){return d.$add(a)},workTask:function(a){console.log(a["do"]),a.isWork=!0,d.$save(a)},completeTask:function(a){console.log(a.todo),a.isComplete=!0,d.$save(a)},get:function(b){return a(c.child("tasks").child(b)).$asObject()},"delete":function(a){return d.$remove(a)}};return e}]),angular.module("tasklistApp").controller("ExpiredTasksCtrl",["$scope","Task",function(a,b){a.task=b.get(task.todo),a.completeTask=b.get(completeTask)}]),angular.module("tasklistApp").filter("expired",[function(){return function(a,b){var c=[],d=(new Date).getTime(),e=void 0===b?!0:b,f=function(a){return d-a.createdAt>=6048e5};return e?angular.forEach(a,function(a){(f(a)||a.isComplete===!0)&&c.push(a)}):angular.forEach(a,function(a){f(a)||a.isComplete||c.push(a)}),c}}]);